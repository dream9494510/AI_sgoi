# 🛡️ Google Maps API 防止扣款完整設定

## ⚠️ 重要：確保 100% 不會被扣錢的方法

你的 API Key: `AIzaSyDTFcNhyatB-rVRHHX8qjY5tggMZc1Reeg`

---

## 📋 必做的 5 個安全設定

### ✅ 設定 1: 移除信用卡（最安全！）

**如果你不想被扣錢，最簡單的方法就是不綁定信用卡**

1. 前往：https://console.cloud.google.com/billing
2. 點選你的帳單帳戶
3. 找到「付款方式」
4. **移除信用卡**

**結果**: 沒有信用卡 = 絕對不會扣錢！超過免費額度只會停止服務，不會收費。

---

### ✅ 設定 2: 設定每日配額上限（強烈建議！）

**限制每天最多使用次數，避免被濫用**

1. 前往：https://console.cloud.google.com/google/maps-apis/quotas
2. 找到「Maps JavaScript API」
3. 點選「每日請求數」旁的編輯圖示
4. 設定上限：

```
每日請求數上限: 1000 次/日
```

**計算**:
- 免費額度：28,000 次/月
- 每天上限 1000 次 = 每月最多 30,000 次
- 仍在免費範圍內！

---

### ✅ 設定 3: API 金鑰限制（防止被盜用）

**只允許你的網站使用，其他人偷走也用不了**

1. 前往：https://console.cloud.google.com/apis/credentials
2. 點選你的 API 金鑰: `AIzaSyDTFcNhyatB...`
3. 在「應用程式限制」選擇 **HTTP 參照網址**
4. 新增允許的網址：

```
http://localhost/*
http://127.0.0.1/*
file:///*
```

5. 在「API 限制」選擇 **限制金鑰**
6. 只勾選：
   - ✅ Maps JavaScript API
   - ❌ 其他全部不勾

7. 點選「儲存」

**結果**: 只有你的電腦能用這個 Key，別人偷走也無法使用！

---

### ✅ 設定 4: 設定預算警示（提前預警）

**當接近免費額度時，Google 會 email 通知你**

1. 前往：https://console.cloud.google.com/billing/budgets
2. 點選「建立預算」
3. 設定：

```
預算名稱: 專題地圖預算
專案: 選擇你的專案
預算金額: $5 USD
警示門檻:
  - 50% ($2.5)
  - 90% ($4.5)
  - 100% ($5)
```

4. 填寫你的 Email
5. 點選「完成」

**結果**: 當花費接近 $2.5 就會收到 email 警告！

---

### ✅ 設定 5: 停用自動續約（終極保險）

1. 前往：https://console.cloud.google.com/billing
2. 點選「帳戶管理」
3. 找到「自動續訂」或「自動升級」
4. **關閉自動續訂**

**結果**: 超過免費額度後，服務會暫停，不會自動扣款！

---

## 💰 免費額度說明

### 你的免費額度：

```
每月免費金額: $200 USD
Maps JavaScript API: $7/1000 次載入
免費載入次數: $200 ÷ $7 × 1000 = 28,571 次/月
```

### 實際使用情況：

假設你的專題：
- 每次開啟網頁 = 1 次載入
- 每天測試 20 次 = 20 次載入
- 每月 30 天 = 600 次載入

**結論**: 600 次 << 28,571 次，**完全免費**！

---

## 🔒 額外保護措施

### 1. 本地快取地圖

在 map.html 加入快取，減少 API 呼叫：

```javascript
// 已經在你的 map.html 中設定好了
// 地圖會自動快取，重複開啟不會多次呼叫 API
```

### 2. 監控使用量

每週檢查一次使用量：

1. 前往：https://console.cloud.google.com/google/maps-apis/metrics
2. 查看「Maps JavaScript API」使用次數
3. 確認遠低於 28,571 次/月

### 3. 定期檢查帳單

每月 1 號檢查：

1. 前往：https://console.cloud.google.com/billing
2. 查看「交易」
3. 確認費用為 $0

---

## ✅ 檢查清單（全部完成 = 100% 安全）

請逐項完成：

- [ ] **已移除信用卡**（最重要！）
- [ ] 設定每日配額上限 1000 次
- [ ] 設定 HTTP 參照網址限制
- [ ] 只啟用 Maps JavaScript API
- [ ] 設定預算警示 $5 USD
- [ ] 關閉自動續訂
- [ ] 已記錄監控網址

---

## 🆘 萬一真的被扣錢怎麼辦？

### 立即行動：

1. **停用 API Key**
   - 前往：https://console.cloud.google.com/apis/credentials
   - 點選 API Key 旁的「刪除」
   - 這會立即停止所有呼叫

2. **移除付款方式**
   - 前往：https://console.cloud.google.com/billing
   - 移除信用卡

3. **聯絡 Google 支援**
   - 說明是學生專題誤用
   - Google 通常會退款給學生

---

## 📊 實際測試建議

### 安全測試流程：

1. **第一天**: 開啟地圖 10 次，檢查使用量
2. **第三天**: 查看 Google Cloud Console 確認計費為 $0
3. **第一週**: 檢查是否收到預算警示 email（應該不會）
4. **每月 1 號**: 檢查帳單確認 $0

---

## 🎓 學生專題專用設定

**這些設定對學生專題最安全**:

```
✅ 不綁信用卡
✅ 每日 1000 次上限
✅ 只限本機使用
✅ 只啟用必要 API
✅ 設定低額預算警示
```

**估計月使用量**:
- 開發測試: 600 次
- Demo 展示: 100 次
- 總計: 700 次/月
- **費用: $0** ✨

---

## 📞 緊急聯絡

如果有任何疑問：

- Google Cloud 支援：https://cloud.google.com/support
- 帳單問題：support@google.com
- 緊急停用：直接刪除 API Key

---

**記住**: 完成上面的檢查清單，你就 100% 安全了！🛡️

最保險的方式就是：**不要綁定信用卡** ✨
