# ç¾é£Ÿåœ°åœ–ç³»çµ±

## ğŸ“¦ æª”æ¡ˆçµæ§‹

```
map/
â”œâ”€â”€ map.html                    â† å‰ç«¯åœ°åœ–ä»‹é¢
â”œâ”€â”€ map_api.py                  â† å¾Œç«¯ API ä¼ºæœå™¨
â”œâ”€â”€ restaurant_data.py          â† é¤å»³è³‡æ–™çµæ§‹
â”œâ”€â”€ Google_Maps_API_æ•™å­¸.md     â† API Key ç”³è«‹æ•™å­¸
â”œâ”€â”€ å•Ÿå‹•åœ°åœ–ä¼ºæœå™¨.bat          â† å¿«é€Ÿå•Ÿå‹•è…³æœ¬
â””â”€â”€ README.md                   â† æœ¬æª”æ¡ˆ
```

---

## ğŸš€ å¿«é€Ÿå•Ÿå‹•

### æ­¥é©Ÿ 1: ç”³è«‹ Google Maps API Key

é–±è®€ [Google_Maps_API_æ•™å­¸.md](Google_Maps_API_æ•™å­¸.md) å®Œæˆç”³è«‹

### æ­¥é©Ÿ 2: è¨­å®š API Key

ä¿®æ”¹ [map.html](map.html) ç¬¬ 205 è¡Œï¼š

```html
<script async defer src="https://maps.googleapis.com/maps/api/js?key=ä½ çš„KEY&callback=initMap&libraries=places&language=zh-TW"></script>
```

### æ­¥é©Ÿ 3: å•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨

```bash
# æ–¹æ³• 1: é›™æ“Šæ‰¹æ¬¡æª”
å•Ÿå‹•åœ°åœ–ä¼ºæœå™¨.bat

# æ–¹æ³• 2: å‘½ä»¤åˆ—
python map_api.py
```

### æ­¥é©Ÿ 4: é–‹å•Ÿç¶²é 

ç”¨ç€è¦½å™¨æ‰“é–‹ `map.html`

---

## ğŸ“Š è³‡æ–™çµæ§‹

### Restaurant (é¤å»³)

```python
restaurant_id: str       # åº—å®¶ID (ä¾‹å¦‚: "green_leaf_001")
name: str                # åç¨± (ä¾‹å¦‚: "ç¶ è‘‰è¼•é£Ÿ Green Leaf")
latitude: float          # ç·¯åº¦ (ä¾‹å¦‚: 25.0330)
longitude: float         # ç¶“åº¦ (ä¾‹å¦‚: 121.5654)
address: str             # åœ°å€
avg_rating: float        # å¹³å‡è©•åˆ† (0-10)
nutrition_score: float   # ç‡Ÿé¤Šè©•åˆ† (0-10)
category: str            # é¡åˆ¥ (ç¾©å¼ã€å’–å•¡å»³ã€æµ·é®®ç­‰)
price_level: int         # åƒ¹æ ¼ç­‰ç´š (1=$, 2=$$, 3=$$$)
distance_km: float       # è·é›¢(å…¬é‡Œ)
menu: List[MenuItem]     # èœå–®åˆ—è¡¨
tags: List[str]          # æ¨™ç±¤ (ä¾‹å¦‚: ["è”¬èœå¤šæ¨£", "é©åˆèšé¤"])
image_url: str           # åœ–ç‰‡ç¶²å€
```

### MenuItem (èœå–®é …ç›®)

```python
name: str                # åç¨± (ä¾‹å¦‚: "å‡±è–©æ²™æ‹‰")
price: float             # åƒ¹æ ¼ (ä¾‹å¦‚: 280)
rating: float            # è©•åˆ† (0-10)
calories: int            # å¡è·¯é‡Œ (å¯é¸)
protein: float           # è›‹ç™½è³ª(g) (å¯é¸)
carbs: float             # ç¢³æ°´åŒ–åˆç‰©(g) (å¯é¸)
fat: float               # è„‚è‚ª(g) (å¯é¸)
```

---

## ğŸ”Œ API ç«¯é»

### GET /api/restaurants

å–å¾—æ‰€æœ‰é¤å»³

**åƒæ•¸**:
- `category`: é¡åˆ¥ç¯©é¸ (å¯é¸)
- `max_price`: æœ€é«˜åƒ¹æ ¼ç­‰ç´š (å¯é¸)
- `min_nutrition`: æœ€ä½ç‡Ÿé¤Šè©•åˆ† (å¯é¸)

**ç¯„ä¾‹**:
```
GET http://localhost:5001/api/restaurants?category=å¥åº·é¤
```

**å›æ‡‰**:
```json
{
  "success": true,
  "data": [...],
  "count": 3
}
```

### GET /api/restaurant/:id

å–å¾—å–®ä¸€é¤å»³è©³ç´°è³‡æ–™

**ç¯„ä¾‹**:
```
GET http://localhost:5001/api/restaurant/green_leaf_001
```

### GET /api/search

æœå°‹é¤å»³

**åƒæ•¸**:
- `q`: æœå°‹é—œéµå­—

**ç¯„ä¾‹**:
```
GET http://localhost:5001/api/search?q=å’–å•¡
```

### GET /api/menu/:id

å–å¾—é¤å»³èœå–®

**ç¯„ä¾‹**:
```
GET http://localhost:5001/api/menu/green_leaf_001
```

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### 1. äº’å‹•å¼åœ°åœ–
- âœ… Google Maps æ•´åˆ
- âœ… è‡ªè¨‚æ¨™è¨˜æ¨£å¼ (ç¶ è‰²åœ“é»)
- âœ… é»æ“Šæ¨™è¨˜é¡¯ç¤ºé¤å»³è³‡è¨Š
- âœ… åœ°åœ–èšç„¦åŠŸèƒ½

### 2. æœå°‹åŠŸèƒ½
- âœ… å³æ™‚æœå°‹
- âœ… æœå°‹é¤å»³åç¨±ã€é¡åˆ¥ã€æ¨™ç±¤
- âœ… å‹•æ…‹æ›´æ–°åœ°åœ–å’Œåˆ—è¡¨

### 3. é¡åˆ¥ç¯©é¸
- âœ… å…¨éƒ¨
- âœ… å¥åº·é¤
- âœ… å¹³åƒ¹
- âœ… é©åˆèšé¤
- âœ… å’–å•¡å»³

### 4. é¤å»³å¡ç‰‡
- âœ… åœ–ç‰‡é è¦½
- âœ… è©•åˆ†é¡¯ç¤º
- âœ… åƒ¹æ ¼ç­‰ç´š
- âœ… è·é›¢è³‡è¨Š
- âœ… ç‡Ÿé¤Šæ¨™ç±¤

### 5. é»æ“Šå¡ç‰‡èšç„¦
- âœ… é»æ“Šé¤å»³å¡ç‰‡è‡ªå‹•ç§»å‹•åœ°åœ–åˆ°è©²ä½ç½®
- âœ… è‡ªå‹•é¡¯ç¤ºè³‡è¨Šè¦–çª—

---

## ğŸ¨ ä»‹é¢å¾®èª¿

### ä¿®æ”¹åœ°åœ–ä¸­å¿ƒé»

[map.html](map.html:218) ä¿®æ”¹ï¼š

```javascript
const taipei = { lat: 25.0330, lng: 121.5654 };  // æ”¹æˆä½ è¦çš„åº§æ¨™
```

### ä¿®æ”¹æ¨™è¨˜é¡è‰²

[map.html](map.html:275) ä¿®æ”¹ï¼š

```javascript
fillColor: '#92A78C',  // æ”¹æˆä½ è¦çš„é¡è‰²
```

### æ–°å¢é¤å»³è³‡æ–™

ç·¨è¼¯ [restaurant_data.py](restaurant_data.py) çš„ `SAMPLE_RESTAURANTS`ï¼š

```python
SAMPLE_RESTAURANTS.append(
    Restaurant(
        restaurant_id="your_id",
        name="ä½ çš„é¤å»³åç¨±",
        latitude=25.0000,
        longitude=121.0000,
        # ...å…¶ä»–æ¬„ä½
    )
)
```

---

## ğŸ§ª æ¸¬è©¦æµç¨‹

1. å•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨ â†’ çœ‹åˆ° "API ç«¯é»: http://localhost:5001"
2. é–‹å•Ÿ map.html â†’ åœ°åœ–æ‡‰è©²é¡¯ç¤º
3. æ¸¬è©¦æœå°‹ â†’ è¼¸å…¥"å’–å•¡"
4. æ¸¬è©¦ç¯©é¸ â†’ é»æ“Š"å¥åº·é¤"æŒ‰éˆ•
5. æ¸¬è©¦èšç„¦ â†’ é»æ“Šé¤å»³å¡ç‰‡

---

## âš ï¸ æ³¨æ„äº‹é …

1. **å¿…é ˆå…ˆå•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨**ï¼Œå¦å‰‡ç„¡æ³•è¼‰å…¥é¤å»³è³‡æ–™
2. **å¿…é ˆè¨­å®š Google Maps API Key**ï¼Œå¦å‰‡åœ°åœ–ç„¡æ³•é¡¯ç¤º
3. **å…è²»ç‰ˆ API é™åˆ¶**: æ¯æœˆ 28,000 æ¬¡è¼‰å…¥
4. **é–‹ç™¼æ™‚å»ºè­°**: è¨­å®š HTTP åƒç…§ç¶²å€é™åˆ¶ç‚º `http://localhost/*`

---

## ğŸ“ å¾ŒçºŒæ“´å……å»ºè­°

- [ ] æ•´åˆçœŸå¯¦ Google Places API è³‡æ–™
- [ ] åŠ å…¥ä½¿ç”¨è€…å®šä½åŠŸèƒ½
- [ ] å„²å­˜æ”¶è—é¤å»³
- [ ] è·¯å¾‘è¦åŠƒåŠŸèƒ½
- [ ] èˆ‡ AI èŠå¤©ä»‹é¢æ•´åˆæ¨è–¦
- [ ] åŠ å…¥è©•è«–ç³»çµ±
- [ ] ç‡Ÿé¤Šè³‡è¨Šè¦–è¦ºåŒ–

---

**å®Œæˆï¼** ğŸ‰ ç¾åœ¨ä½ æœ‰ä¸€å€‹å®Œæ•´çš„ç¾é£Ÿåœ°åœ–ç³»çµ±äº†ï¼
